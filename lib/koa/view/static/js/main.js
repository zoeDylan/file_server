"use strict";!function(t){function r(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var e={};r.m=t,r.c=e,r.p="",r(0)}([function(t,r){(function(t){var r=!0,e=new Vue({el:"#__dir",data:{list:[],dirPath:t,msg:"",error:!1},methods:{getDir:function(){r&&(r=!1,document.location.hash="#dir="+this.dirPath,$.ajax({type:"post",url:"./dir",data:{path:this.dirPath},dataType:"json",success:function(t){if(e.list.splice(0,e.list.length),t.status){e.error=!1,e.msg="",t=t.data;for(var r=0;r<t.length;r++){var o=t[r];e.list.push({name:o.name,path:o.fullPath,type:o.type,error:o.error})}}else e.error=!0,e.msg=t.error||t.msg},error:function(t){e.error=!0,e.msg="网络错误!"},complete:function(t){r=!0}}))},getFile:function(t){document.location.href="/file?path="+t+"&dir="+this.dirPath}}});$("input").keydown(function(t){13==t.keyCode&&e.getDir()});var o=!0;!function(){o&&(o=!1,$.ajax({type:"post",url:"/history",dataType:"json",success:function(t){t.status&&(e.dirPath=t.data.dir,e.getDir())},error:function(t){e.error=!0,e.msg="网络错误!"},complete:function(t){o=!0}}))}(),window.onhashchange=function(t){e.dirPath=location.hash.replace("#dir=",""),e.getDir()},window._dir=e}).call(r,"/")}]);